<div class="container py-4">
    <h2 class="text-primary text-center">ğŸ“ Manage My Posts ( Total Posts = {{ posts.length }})</h2>

  <!-- Create New Post Form -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="card-title">Create a New Post</h5>
      <div class="mb-2">
        <input class="form-control mb-2" [(ngModel)]="newPost.title" placeholder="Post Title" />
        <textarea class="form-control mb-2" [(ngModel)]="newPost.content" placeholder="Post Content..."></textarea>
        <textarea class="form-control mb-2" [(ngModel)]="newPost.skills" placeholder="Post skills..."></textarea>
      </div>
      <button class="btn btn-success" (click)="createPost()">Create</button>
    </div>
  </div>

  <!-- Posts List -->
  <div *ngFor="let post of posts" class="card mb-3 shadow-sm">
    <div class="card-body">
      <!-- Display Mode -->
      <div *ngIf="editingPostId !== post.id">
        <h5 class="card-title"> Title : {{ post.title }}</h5>
        <p class="card-text">description: {{ post.content }}</p>
        <p class="card-text">skills: {{ post.skills }}</p>
        <p>
          <span class="badge bg-info text-dark">Status: {{ post.status }}</span>
        </p>
        <small class="text-muted">Creation Date: {{ post.createdAt | date: 'short' }}</small>
        <div class="mt-3">
          <button class="btn btn-outline-primary me-2" (click)="editPost(post)">
            âœï¸ Edit
          </button>
          <button class="btn btn-outline-danger" (click)="deletePost(post.id)">
            ğŸ—‘ï¸ Delete
          </button>
        </div>
      </div>

      <!-- Edit Mode -->
      <div *ngIf="editingPostId === post.id">
        <input class="form-control mb-2" [(ngModel)]="post.title" />
        <textarea class="form-control mb-2" [(ngModel)]="post.content"></textarea>
        <textarea class="form-control mb-2" [(ngModel)]="post.skills" placeholder="Post skills..."></textarea>

        <!-- Status Dropdown -->
        <select class="form-select mb-2" [(ngModel)]="post.status">
          <option *ngFor="let s of statusOptions" [value]="s">{{ s }}</option>
        </select>

        <button class="btn btn-success me-2" (click)="updatePost(post)">ğŸ’¾ Save</button>
        <button class="btn btn-secondary" (click)="cancelEdit()">âŒ Cancel</button>
      </div>
    </div>
  </div>
</div>
